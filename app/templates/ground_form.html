{% extends "base.html" %}
{% block content %}
<div style="max-width:900px;margin:0 auto">
    <div class="card">
        <h2 style="margin-top:0">{% if ground %}Edit{% else %}Add New{% endif %} Building Plot</h2>
        <form method="POST" enctype="multipart/form-data">
            <div style="margin-bottom:16px">
                <label style="display:block;font-weight:600;margin-bottom:6px;color:#193127">Location (City/Municipality)</label>
                <input type="text" name="location" placeholder="e.g., Ghent" required value="{{ ground.location if ground else '' }}" style="width:100%">
            </div>
            <div style="margin-bottom:16px">
                <label style="display:block;font-weight:600;margin-bottom:6px;color:#193127">Address (Street + Number)</label>
                <input type="text" name="address" placeholder="e.g., Main Street 123" value="{{ ground.address if ground else '' }}" style="width:100%">
            </div>
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px">
                <div>
                    <label style="display:block;font-weight:600;margin-bottom:6px;color:#193127">Surface Area (m²)</label>
                    <input type="number" name="m2" placeholder="e.g., 5000" required value="{{ ground.m2 if ground else '' }}" style="width:100%">
                </div>
                <div>
                    <label style="display:block;font-weight:600;margin-bottom:6px;color:#193127">Budget (€)</label>
                    <input type="number" step="0.01" name="budget" placeholder="e.g., 500000" required value="{{ ground.budget if ground else '' }}" style="width:100%">
                </div>
            </div>
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px">
                <div>
                    <label style="display:block;font-weight:600;margin-bottom:6px;color:#193127">Subdivision Type</label>
                    <select name="subdivision_type" required style="width:100%">
                        <option value="">Select type...</option>
                        {% for type in subdivision_types %}
                        <option value="{{ type }}" {% if ground and ground.subdivision_type == type %}selected{% endif %}>{{ type.replace('_', ' ').title() }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div>
                    <label style="display:block;font-weight:600;margin-bottom:6px;color:#193127">Owner</label>
                    <input type="text" name="owner" placeholder="Enter owner name" required value="{{ ground.owner if ground else '' }}" style="width:100%">
                </div>
            </div>
            <div style="margin-bottom:16px">
                <label style="display:block;font-weight:600;margin-bottom:6px;color:#193127">Photo</label>
                <input type="file" name="photo" accept="image/*" style="width:100%">
                {% if ground and ground.photo_url %}
                <div style="margin-top:8px">
                    <img src="{{ ground.photo_url }}" alt="Current photo" style="max-width:200px;border-radius:6px">
                </div>
                {% endif %}
            </div>
            <div style="display:flex;gap:12px">
                <button type="submit" class="btn btn-success">{% if ground %}Update{% else %}Add{% endif %} Plot</button>
                <a href="{{ url_for('grounds_list') }}" class="btn">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
