{% extends "base.html" %}
{% block content %}
<h1>Company Dashboard</h1>
<a href="{{ url_for('logout') }}" class="btn">Logout</a>

<div class="card">
    <h2>Quick Stats</h2>
    <p><strong>Clients:</strong> {{ clients|length }}</p>
    <p><strong>Grounds:</strong> {{ grounds|length }}</p>
    <p><strong>Matches:</strong> {{ matches|length }}</p>
</div>

<div class="card">
    <h2>Quick Actions</h2>
    <a href="{{ url_for('clients_list') }}" class="btn btn-success">Manage Clients</a>
    <a href="{{ url_for('grounds_list') }}" class="btn btn-success">Manage Grounds</a>
    <a href="{{ url_for('preferences_list') }}" class="btn btn-success">Manage Preferences</a>
    <a href="{{ url_for('matches_list') }}" class="btn btn-success">View Matches</a>
    <form method="POST" action="{{ url_for('match_run') }}" style="display:inline;">
        <button type="submit" class="btn">Run Matching Algorithm</button>
    </form>
</div>

<div class="card">
    <h2>Recent Clients</h2>
    <table>
        <tr><th>Name</th><th>Email</th><th>Actions</th></tr>
        {% for client in clients[:5] %}
        <tr>
            <td>{{ client.name }}</td>
            <td>{{ client.email }}</td>
            <td><a href="{{ url_for('preferences_edit', client_id=client.id) }}" class="btn">Preferences</a></td>
        </tr>
        {% endfor %}
    </table>
    <a href="{{ url_for('clients_list') }}" class="btn">View All Clients</a>
</div>
{% endblock %}
